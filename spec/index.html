<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="Daniel NÃ¼st, Matthias Schutzeichel, Markus Konkol">  
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>Specification - ERC spec</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">


    <link href="../erc.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">ERC spec</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ERC <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li class="active">
    <a href="./">Specification</a>
</li>

                        
                            
<li >
    <a href="docker/">Docker Runtime Extension</a>
</li>

                        
                            
<li >
    <a href="archival/">Archival Extension</a>
</li>

                        
                            
<li >
    <a href="valid/">Validation Extension</a>
</li>

                        
                            
<li >
    <a href="r/">R Extension</a>
</li>

                        
                            
<li >
    <a href="man/">Manipulation Extension</a>
</li>

                        
                            
<li >
    <a href="plain_r/">Plain R Runtime Extension</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User guide <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../user-guide/creation/">ERC creation guide</a>
</li>

                        
                            
<li >
    <a href="../user-guide/template/">ERC template</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../dev-guide/">Developer guide</a>
                    </li>
                
                
                
                    <li >
                        <a href="../glossary/">Glossary</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="..">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="docker/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/o2r-project/erc-spec">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#erc-specification">ERC specification</a></li>
        
            <li class="second-level"><a href="#version">Version</a></li>
            
        
            <li class="second-level"><a href="#table-of-contents">Table of contents</a></li>
            
        
            <li class="second-level"><a href="#notational-conventions">Notational conventions</a></li>
            
        
            <li class="second-level"><a href="#purpose">Purpose</a></li>
            
        
            <li class="second-level"><a href="#fundamental-design-concepts">Fundamental design concepts</a></li>
            
        
            <li class="second-level"><a href="#how-to-use-an-erc">How to use an ERC</a></li>
            
        
            <li class="second-level"><a href="#erc-structure">ERC structure</a></li>
            
                <li class="third-level"><a href="#base-directory">Base directory</a></li>
            
                <li class="third-level"><a href="#main-document-display-file">Main document &amp; display file</a></li>
            
        
            <li class="second-level"><a href="#nested-runtime">Nested runtime</a></li>
            
                <li class="third-level"><a href="#runtime-environment-or-image">Runtime environment or image</a></li>
            
                <li class="third-level"><a href="#runtime-manifest">Runtime manifest</a></li>
            
        
            <li class="second-level"><a href="#erc-configuration-file">ERC configuration file</a></li>
            
                <li class="third-level"><a href="#name-format-and-encoding">Name, format, and encoding</a></li>
            
                <li class="third-level"><a href="#basic-fields">Basic fields</a></li>
            
                <li class="third-level"><a href="#control-statements">Control statements</a></li>
            
                <li class="third-level"><a href="#license-metadata">License metadata</a></li>
            
        
            <li class="second-level"><a href="#comprehensive-example-of-ercyml">Comprehensive example of erc.yml</a></li>
            
        
            <li class="second-level"><a href="#content-metadata">Content metadata</a></li>
            
                <li class="third-level"><a href="#metadata-elements-under-development">Metadata elements under development</a></li>
            
                <li class="third-level"><a href="#description-of-metadata-properties">Description of metadata properties</a></li>
            
        
            <li class="second-level"><a href="#erc-checking">ERC checking</a></li>
            
                <li class="third-level"><a href="#procedure">Procedure</a></li>
            
                <li class="third-level"><a href="#comparison-set-file">Comparison set file</a></li>
            
        
            <li class="second-level"><a href="#security-considerations">Security considerations</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="erc-specification">ERC specification</h1>
<p>An Exectuable Research Compendium (ERC) is a packaging convention for computational research.
It provides a well-defined structure for data, code, text, documentation, and user interface controls for a piece of research and is suitable for long-term archival. As such it can also be perceived as a digital object or asset.</p>
<div class="alert note" markdown="block">
This is a draft specification. If you have comments or suggestions please file them in the <a href="https://github.com/o2r-project/erc-spec/issues">issue tracker</a>. If you have explicit changes please fork the <a href="https://github.com/o2r-project/erc-spec">git repo</a> and submit a pull request.
</div>

<h2 id="version">Version</h2>
<p>The version of this specification is <code>1</code>.
This version is <em>under development</em>!</p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="./">Introduction</a><ul>
<li><a href="#notational-conventions">Notational conventions</a></li>
<li><a href="#purpose">Purpose</a></li>
<li><a href="#fundamental-concepts">Fundamental concepts</a></li>
</ul>
</li>
<li><a href="#erc-structure">Structure</a></li>
<li><a href="#security">Security</a></li>
<li><a href="glossary.md">Glossary</a></li>
</ul>
<h2 id="notational-conventions">Notational conventions</h2>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as described in <a href="http://tools.ietf.org/html/rfc2119">RFC 2119</a>.</p>
<p>The key words "unspecified", "undefined", and "implementation-defined" are to be interpreted as described in the <a href="http://www.open-std.org/jtc1/sc22/wg14/www/C99RationaleV5.10.pdf#page=18">rationale for the C99 standard</a>.</p>
<h2 id="purpose">Purpose</h2>
<p>This specification defines a structure to carry and execute a computational scientific analyses (cf. <a href="https://en.wikipedia.org/wiki/Computational_science">computational science</a>).</p>
<p>These analyses typically comprise a workspace on a researcher's computer, which comprises <em>data</em>, <em>code</em>, third party software or libraries, and outputs such as plots.
Code and libraries are required in executable form to re-do an analysis.
Research is only put into a context by a <em>textual</em> publication, which is published in <a href="https://en.wikipedia.org/wiki/Scholarly_communication">scholarly communication</a>.
The text comes in two forms: one that is machine readable, and another one that is suitable for being read by humans.
The latter is often derived, or "rendered", from the former and can be static, visual, or even interactive.</p>
<p>Putting all of this elements in a self-contained bundle allows understanding, reproducing, transferring, archiving, and validating computational research.
The ERC specification defines metadata and file structures to support these actions.</p>
<h2 id="fundamental-design-concepts">Fundamental design concepts</h2>
<p>The ERC specification is inspired by two approaches to improve development and operation of software.
First,  <a href="https://en.wikipedia.org/wiki/Convention_over_configuration"><em>"convention  over  configuration"</em></a>, e.g. as  practiced  in  the Java build tool <a href="https://books.sonatype.com/mvnref-book/reference/installation-sect-conventionConfiguration.html">Maven</a>.
Second, <em>"DevOps"</em>, see <a href="https://en.wikipedia.org/wiki/DevOps">Wikipedia</a> or <a href="https://doi.org/10.1145/2723872.2723882">Boettiger</a>.</p>
<p>Another core goal is <em>simplicity</em>.
This specification should not re-do something which already exists (if it is an open specification or tool).
It must be possible to create a valid and working ERC <em>manually</em>.</p>
<p>The final important notion is the one of <em>nested containers</em>.
We acknowledge well defined standards for packaging a set of files, and different approaches to create an executable code package.
Therefore an ERC comprises <em>one or more containers but is itself subject to being put into a container</em>.
We distinguish these containers into the inner or "runtime" container and the outer container, which is used for transfer of complete ERC and not content-aware validation.</p>
<p>Finally, this specification may be extended or limited further by so called <em>extensions</em>.
Extensions MAY add any additional structure to an ERC or change defaults.
But they MUST NOT interfere with this specification, e.g. by changing the meaning of a configuration field.</p>
<h2 id="how-to-use-an-erc">How to use an ERC</h2>
<p>The steps to (re-)run the analysis contained in an ERC are as follows:</p>
<ul>
<li>(if compressed first extract then) unpack the ERC's outer container</li>
<li>execute the runtime container</li>
<li>compare the output files contained in the outer container with the just output files just created by the runtime container</li>
</ul>
<p>This way ERC allow computational reproducibility based on the original code and data.</p>
<h2 id="erc-structure">ERC structure</h2>
<h3 id="base-directory">Base directory</h3>
<p>An ERC MUST has a <em>base directory</em>. All paths within this document are relative to this base directory.</p>
<p>The base directory MUST contain an <a href="#erc-configuration-file">ERC configuration file</a>.</p>
<p>Besides the files mentioned in this specification, the base directory MAY contain any other files and directories.</p>
<h3 id="main-document-display-file">Main document &amp; display file</h3>
<p>An ERC MUST have a <em>main document</em>, i.e. the file which contains the text and instructions being the basis for the scientific publication describing the packaged analysis.</p>
<p>The main document's name SHOULD be <code>main</code> with an appropriate file extension and media type.
For example if the main document is RMarkdown, then the file extension should be <code>.Rmd</code> and the media type <code>text/markdown</code>.</p>
<p>An ERC MUST have a <em>display file</em>, i.e. the file which is shown to the user first when he opens an ERC in a supporting platform or tool.</p>
<p>The display file's name SHOULD be <code>view</code> with an appropriate file extension and media type.
For example if the main document is Hypertext Markup Language (HTML), then the file extension should be <code>.htm</code> or <code>.html</code> and the media type <code>text/html</code>.</p>
<div class="alert note" markdown="block">
Typically, the _display file_ is "rendered" from the main file, which follows the [literate programming paradigm](https://en.wikipedia.org/wiki/Literate_programming).
</div>

<h2 id="nested-runtime">Nested runtime</h2>
<p>The embedding of a representation of the original runtime environment, in which an analysis was conducted, is crucial for supporting reproducible computations.
This section defines two such representations.
First, an executable image.
Second, a manifest documenting the image's contents.</p>
<p>The format of these representations is undefined here and can be stated more precisely in an extension to this specification.</p>
<div class="alert note" markdown="block">
A concrete runtime extension may choose to (a) embed the runtime environment in the image, or (b) to rely on constructing the runtime environment from the manifest.
</div>

<h3 id="runtime-environment-or-image">Runtime environment or image</h3>
<p>The base directory SHOULD contain a runnable image, e.g. a "binary", of the original analysis environment that can be used to re-run the packaged analysis using a suitable software.</p>
<p>The image file MAY be compressed.
It SHOULD be named <code>image</code> with an appropriate file extension, such as <code>.tar</code>, <code>tar.gz</code> or <code>.bin</code>, and have an appropriate mime type, e.g. <code>application/vnd.oci.image.layer.tar+gzip</code>.</p>
<p>The name of the image file MUST be given in the ERC configuration file under the node <code>image</code> under the root-level node <code>execution</code>.</p>
<p>The output of the image execution can be shown to the user to convey detailed information on progress or errors.</p>
<h3 id="runtime-manifest">Runtime manifest</h3>
<p>The base directory MUST contain a complete, self-consistent manifest of the runtime image's contents.</p>
<p>This manifest MUST be in a machine-readable format that allows a respective tool to create the runtime image.</p>
<p>The name of the manifest file MUST be given in the ERC configuration file under the node <code>manifest</code> under the root-level node <code>execution</code>.</p>
<h2 id="erc-configuration-file">ERC configuration file</h2>
<p>The ERC configuration file is the <em>reproducibility manifest</em> for an ERC. It defines the main entry points for actions performed on an ERC and core metadata elements.</p>
<h3 id="name-format-and-encoding">Name, format, and encoding</h3>
<p>The filename MUST be <code>erc.yml</code> and it MUST be located in the base directory.
The contents MUST be valid <a href="http://yaml.org/">YAML 1.2</a>.
The file MUST be encoded in <code>UTF-8</code> and MUST NOT contain a byte-order mark (BOM).</p>
<h3 id="basic-fields">Basic fields</h3>
<p>The first document content of this file MUST contain the following string nodes at the root level.</p>
<ul>
<li><code>spec_version</code>: a text string noting the version of the used ERC specification. The appropriate version for an ERC conforming to this version of the specification is <code>1</code>.</li>
<li><code>id</code>: globally unique identifier for a specific ERC. This SHOULD be a URI (see <a href="https://tools.ietf.org/html/rfc3986">rfc3986</a>) or a <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>, Version 4.</li>
</ul>
<p>Example:</p>
<pre><code class="yml">id: b9b0099e-9f8d-4a33-8acf-cb0c062efaec
spec_version: 1
</code></pre>

<p>The main and display file can be defined in root-level nodes named <code>main</code> and <code>display</code> respectively:</p>
<pre><code class="yml">id: b9b0099e-9f8d-4a33-8acf-cb0c062efaec
spec_version: 1
main: the_paper_document.rmd
display: view.html
</code></pre>

<h3 id="control-statements">Control statements</h3>
<p>The configuration file MUST contain statements to control the runtime container.</p>
<p>These statements MUST be in an array under the root-level node <code>execution</code> in the ERC configuration file in the order in which they must be executed.</p>
<p>Implementations SHOULD support a list of <a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)">bash</a> commands as control statements.
These commands are given as a list under the node <code>cmd</code> under the root-level node <code>execution</code>.
If extensions use non-bash commands, they MUST define own nodes under the <code>execution</code> node and SHOULD define defaults.</p>
<p>The execution statements MAY ensure the re-computation being independent from the environment, which may be different depending on the host of the execution environment.
For example, the time zone could be fixed via an environment variable <code>TZ=CET</code>, so output formatting of timestamps does not break checking.
This is in addition to ERC authors handling such parameters at a script level.</p>
<p>Example control statements:</p>
<pre><code class="yml">id: b9b0099e-9f8d-4a33-8acf-cb0c062efaec
spec_version: 1
execution:
  cmd:
    - `./prepare.sh --input my_data`
    - `./execute.sh --output results --iterations 3`
</code></pre>

<h3 id="license-metadata">License metadata</h3>
<p>The file <code>erc.yml</code> MUST contain a first level node <code>licenses</code> with licensing information for the code, data, and text contained.
Each of these three have distinct requirements, hence different licenses need to be applied.</p>
<p>The node <code>licenses</code> MUST have three children: <code>code</code>, <code>data</code>, <code>text</code>.</p>
<div class="alert note" markdown="block">
There is currently no mechanism to define the licenses of the used libraries, as manual creation would be tedious.
Tools for automatic creation of ERC may add such detailed licensing information and define an extension to the ERC 
</div>

<p>The content of each of these child nodes MUST be one of the following</p>
<ul>
<li>text string with license identifier or license text. This SHOULD be a standardized identifier of an existing license as defined by the <a href="http://licenses.opendefinition.org/">Open Definition Licenses Service</a>.</li>
<li>a dictionary of all files or directories and their respective license, each of the values following the previous statement. The node values are the file paths relative to the base directory. </li>
</ul>
<p>Example for global licenses:</p>
<pre><code class="yml">id: b9b0099e-9f8d-4a33-8acf-cb0c062efaec
spec_version: 1
licenses:
  code: Apache-2.0
  data: ODbL-1.0
  text: CC0-1.0
</code></pre>

<p>Example using specific licenses for files:</p>
<pre><code class="yml">---
id: b9b0099e-9f8d-4a33-8acf-cb0c062efaec
spec_version: 1
licenses:
  code:
    others_lib.bin: MIT
    my_code.c: GPL-3.0
  data: 
    facts.csv: ODbL-1.0
  text:
    README.md: CC0-1.0
    paper/chapter01.doc: CC-BY-4.0
    paper/chapter02.tex: CC-BY-4.0

</code></pre>

<div class="alert note" markdown="block">
It IS NOT possible to assign one license to a directory and override that assignment or a single file within that directory, NOR IS it possible to use globs or regular expressions.
</div>

<h2 id="comprehensive-example-of-ercyml">Comprehensive example of erc.yml</h2>
<p>The following example shows all possible fields of the core specification with example values.</p>
<pre><code class="yml">id: b9b0099e-9f8d-4a33-8acf-cb0c062efaec
spec_version: 1
main: the_paper_document.rmd
display: view.html
execution:
  cmd: &quot;Rscript -e 'rmarkdown::render(input = \&quot;paper.Rmd\&quot;, output_format = \&quot;html\&quot;)'&quot;
licenses: # licenses that the author chooses for their files
  code:
    others_lib.bin: MIT
    my_code.c: GPL-3.0
  data:
    facts.csv: ODbL-1.0
  text:
    README.md: CC0-1.0
    paper/chapter01.doc: CC-BY-4.0
    paper/chapter02.tex: CC-BY-4.0
</code></pre>

<p>The path to the ERC configuration file subsequently MUST be <code>&lt;path-to-bag&gt;/data/erc.yml</code>.</p>
<h2 id="content-metadata">Content metadata</h2>
<h3 id="metadata-elements-under-development">Metadata elements <em>under development</em></h3>
<p>Current JSON dummy to visualise the properties. It SHOULD be filled out as good as possible.</p>
<pre><code class="json">{
    &quot;author&quot;: [{
        &quot;name&quot;: null,
        &quot;affiliation&quot;: [],
        &quot;orcid&quot;: null
    }],
    &quot;community&quot;: &quot;o2r&quot;,
    &quot;depends&quot;: [{
        &quot;identifier&quot;: null,
        &quot;version&quot;: null,
        &quot;packageSystem&quot;: null
    }],
    &quot;description&quot;: null,
    &quot;ercIdentifier&quot;: null,
    &quot;file&quot;: {
        &quot;filename&quot;: null,
        &quot;filepath&quot;: null,
        &quot;mimetype&quot;: null
    },
    &quot;generatedBy&quot;: null,
    &quot;interaction&quot;: {
        &quot;interactive&quot;: false,
    &quot;ui_binding&quot;: {
        &quot;purpose&quot;: null,
        &quot;widget&quot;: null,
        &quot;code&quot;: {
            &quot;filename&quot;: null,
            &quot;function&quot;: null,
            &quot;variable&quot;: null,
            &quot;shinyInputFunction&quot;: null,
            &quot;shinyRenderFunction&quot;: null,
            &quot;functionParameter&quot;: {
                &quot;name&quot;: null,
                &quot;label&quot;: null,
                &quot;min&quot;: null,
                &quot;max&quot;: null,
                &quot;value&quot;: null,
                &quot;step&quot;: null
                }
            }
        }
    },
    &quot;keywords&quot;: [],
    &quot;license&quot;: null,
    &quot;paperLanguage&quot;: [],
    &quot;paperSource&quot;: null,
    &quot;publicationDate&quot;: null,
    &quot;recordDateCreated&quot;: null,
    &quot;softwarePaperCitation&quot;: null,
    &quot;spatial&quot;: {
        &quot;files&quot;: [],
        &quot;union&quot;: []
    },
    &quot;temporal&quot;: {
        &quot;begin&quot;: null,
        &quot;end&quot;: null
    },
    &quot;title&quot;: null
}
</code></pre>

<p>The path to the o2r metadata file MUST be <code>&lt;path-to-bag&gt;/data/metadata.json</code>.</p>
<h3 id="description-of-metadata-properties">Description of metadata properties</h3>
<p>Defining explanations on the concept of each metadata element in use.</p>
<ul>
<li><code>author</code> Contains a list of authors, each containing author related information.</li>
<li><code>author.affiliation</code> A list of institutions, organizations or other groups that the creator of the asset is associated with.</li>
<li><code>author.name</code> The name of the human individual, institution, organization, machine or other entity that acts as creator of the asset.</li>
<li><code>author.orcid</code> The ORCid of the creator of the asset.</li>
<li><code>community</code> Indicates belonging to a scientific community, e.g. on a repositoy platform.</li>
<li><code>depends</code> A block for each entity that the software is directly dependent on for execution. The dependency information is designed for the identification of dependent packages within packaging systems. A depends block may describe a transitive dependency.</li>
<li><code>depends.identifier</code> An identifying name for the depending package.</li>
<li><code>depends.version</code> The computer software and hardware required to run the software.</li>
<li><code>depends.packageSystem</code> The package manager system that makes the dependency entity available.</li>
<li><code>description</code> A text representation conveying the purpose and scope of the asset (the abstract).</li>
<li><code>ercIdentifier</code> A universally unique character string associated with the asset as <em>executable research compendium</em>, provided by the o2r service.</li>
<li><code>file</code> A block for the main source file for the metadata (e.g. rmd file), generated and used by the o2r service.</li>
<li><code>file.filename</code> See above </li>
<li><code>file.filepath</code> See above </li>
<li><code>file.mimetype</code> See above </li>
<li><code>generatedBy</code> The entity, person or tool, that created the software.</li>
<li><code>interaction</code> Information on interactive elements in the asset.</li>
<li><code>interaction.interactive</code> 'TRUE' if interactive elements are already included, otherwise 'FALSE'.</li>
<li><code>interaction.ui_binding</code> A block for each UI binding - extends a figure by a UI widget, e.g. for manipulation. Final structure depends on purpose.</li>
<li><code>interaction.ui_binding.purpose</code> What the UI binding is supposed to do.</li>
<li><code>interaction.ui_binding.widget</code> Which UI widget realizes the purpose.</li>
<li><code>interaction.ui_binding.code</code> A block containing source-code-specific information required to realize the UI binding.</li>
<li><code>interaction.ui_binding.code.filename</code> Name of the file including the plot function that creates the figure.</li>
<li><code>interaction.ui_binding.code.function</code> Name of the function that plots the figure.</li>
<li><code>interaction.ui_binding.code.functionParameter</code> Parameters required by the shinyInputFunction. Final set of parameters depends on UI widget.</li>
<li><code>interaction.ui_binding.variable</code> Variable that should be controlled by the UI widget.</li>
<li><code>interaction.ui_binding.code.shinyInputFunction</code> Function that incorporates the UI widgets, provided by Shiny. </li>
<li><code>interaction.ui_binding.code.shinyRenderFunction</code> Function that renders the plot after each change, provided by Shiny.</li>
<li><code>keywords</code> Tags associated with the asset.</li>
<li><code>license</code> License information for the entire ERC.</li>
<li><code>paperLanguage</code> A list of language codes that indicate the language of the asset, e.g. <em>en</em>.</li>
<li><code>paperSource</code> The text document file of the paper.</li>
<li><code>publicationDate</code> The publication date of the paper publication as <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO8601</a> string.</li>
<li><code>recordDateCreated</code> The date that this metadata record was created as <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO8601</a> string.</li>
<li><code>softwarePaperCitation</code> Related citation information for the asset, e.g. a citation of the related journal article.</li>
<li><code>spatial</code> Information about the geometric bounding box of the underlying data/software.</li>
<li><code>spatial.files</code> A Geojson object of the aggregated bounding boxes of the underlying data/software, generated by the o2r service.</li>
<li><code>spatial.union</code> A Geojson object displaying the spatial properties of the data.</li>
<li><code>temporal</code> Aggregated information about the relevant time period of the underlying data sets.</li>
<li><code>temporal.begin</code> The starting point of the relevant time period.</li>
<li><code>temporal.end</code> The end point of the relevant time period.</li>
<li><code>title</code> The distinguishing name of the paper publication.</li>
</ul>
<h2 id="erc-checking">ERC checking</h2>
<h3 id="procedure">Procedure</h3>
<p>A core feature of ERCs is to compare the output of an ERC executions with the original outpts.
Therefore checking an ERC always comprises two core steps: the execution and the comparison.</p>
<p>The method of the comparison is unspecified.
The files included in the comparison are the <em>comparison set</em>.
An implementation MUST communicate the comparison set to the user as part of a check.</p>
<h3 id="comparison-set-file">Comparison set file</h3>
<p>The ERC MAY contain a file named <code>.ercignore</code> in the base directory to define the comparison set.</p>
<p>Its purpose is to provide a way to efficiently exclude files and directories from checking.
If this file is present, any files and directories within the outer container which match the patterns within the file <code>.ercignore</code> will be excluded from the checking process.
The check MUST NOT fail when files listed in <code>.ercignore</code> are failing comparison.</p>
<p>The file MUST be UTF-8 (without BOM) encoded.
The newline-separated patterns in the file MUST be <a href="https://en.wikipedia.org/wiki/Glob_(programming)">Unix shell globs</a>.
For the purposes of matching, the root of the context is the ERC's base directory.</p>
<p>Lines starting with <code>#</code> are treated as comments and MUST be ignored by implementations.</p>
<p>Example <code>.ercignore</code> file:</p>
<pre><code># comment
.erc
*/temp*
data-old/*
</code></pre>

<div class="alert note" markdown="block">
If using [md5]() files hashes for comparison, the set could include plain text files, for example the `text/*` [media types](https://en.wikipedia.org/wiki/Media_type) (see [IANA's full list of media types](https://www.iana.org/assignments/media-types/media-types.xhtml). Of course the comparison set should include files which contain results of an analysis.
</div>

<h2 id="security-considerations">Security considerations</h2>
<p>Why are ERC not a security risk?</p>
<ul>
<li>the spec prohibits use of <code>EXPOSE</code></li>
<li>the containers are only executed <em>without</em> external network access using <code>Network: none</code>, see <a href="https://docs.docker.com/engine/reference/run/#/network-none">Docker CLI run documentation</a></li>
</ul>
<!-- Prefer checksums from cryptographic hash functions that have not yet been broken by collisions. --></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '..';
    </script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
